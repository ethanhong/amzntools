const e=React.createElement;function getCSS(){return"\n  #search-bar {\n    margin-bottom: 1rem;\n  }\n\n  #search_input {\n    margin-right: 0.2rem;\n  }\n\n  #search_input, #find_btn {\n    line-height: 2.5rem;\n  }\n\n  "}async function comoPackages(){const e=window.location.href.split("store/")[1].split("/")[0],n=await fetch(`https://como-operations-dashboard-iad.iad.proxy.amazon.com/api/store/${e}/packages`);return await n.json()}function App(){const[n,t]=React.useState("");React.useEffect((()=>{document.querySelector("#search_input").focus()}),[]);const a=e("form",null,[e("input",{id:"search_input",type:"text",placeholder:"Find bags ...",size:"100",value:n,onChange:e=>t(e.target.value)}),e("input",{id:"find_btn",type:"button",value:"Find",onClick:async()=>{const[e,...t]=n.trim().split(","),a=(await comoPackages()).filter((e=>t.includes(e.scannableId))).sort(((e,n)=>e.lastKnownLocation.localeCompare(n.lastKnownLocation))).reduce(((e,n)=>`${e}${n.lastKnownLocation} ------ ${n.scannableId.slice(-4)}\n`),`Possible locations for scannable id ending in ${e.slice(-4)}:\n`);alert(a)}})]);return e("div",{id:"search-bar"},a)}function startBagFinder(){const n=document.createElement("style");n.innerText=getCSS(),document.head.appendChild(n);const t=document.createElement("div");document.querySelector("div.ng-scope > h2").after(t),ReactDOM.createRoot(t).render(e(App))}
